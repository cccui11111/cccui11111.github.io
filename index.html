<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Leaf'Blog</title>
    <link rel="stylesheet" href="css/style.css"/>
    <style>
        pre { background: #f6f8fa; padding: 1rem; overflow: auto; }
  </style>
</head>
<body>
    <header> 
        <h1><a href="index.html">Welcome CUI'Blog</a></h1>
        <nav>
        <a href="index.html">首页</a>
        <a href="index.html">关于</a>
        <button id="themeBtn" aria-label="切换主题">🌓</button>
    </nav><!-- nav 标签：专门用来放导航链接 -->
    </header>
    <div id="progressBar"></div> <!-- ===== 阅读进度条 ===== -->
    <main id="articleContainer">加载中...</main>
    <footer>
        <p>&copy;2025|Powered by github Pages</p>
    </footer>
    <script src="js/main.js"></script> 
    <script>
        const params=new URLSearchParams(location.search);
        const postFile=params.get('post');
        //if(!postFile) 
            //location.href='index.html';
        fetch('daily/'+postFile).then(r=>r.text()).then(text=>{
            const[_,meta,content]=text.split('---')
            const info={}
            meta.split('\n').forEach(line=>{
                const [k,v]=line.split(':').map(s=>s.trim());
                if (k)
                    info[k]=v;
            });
            document.getElementById('arricle').textContent=info.title;
            document.getElementById('articleContainer').innerHTML=`
                <article>
                    <h2>${info.title}</h2>
                    <time>${info.date}</time>
                    <div>${md2html(content)}</div>
                </article>`;
        });
    </script>
</body>
</html>
